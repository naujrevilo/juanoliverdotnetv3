---
import {
  type SocialPlatform,
  socialIcons,
  platformStyles,
} from "../../data/social";

interface Props {
  href: string;
  label: string;
  platform: SocialPlatform;
  size?: "sm" | "md" | "lg";
  variant?: "default" | "footer";
}

const { href, label, platform, size = "md", variant = "default" } = Astro.props;

const sizeClasses = {
  sm: "w-8 h-8",
  md: "w-10 h-10",
  lg: "w-12 h-12",
};

const iconSizes = {
  sm: 16,
  md: 20,
  lg: 24,
};

const baseClasses =
  variant === "footer"
    ? "rounded-full bg-slate-900 border border-slate-800 flex items-center justify-center text-slate-400"
    : "rounded-full bg-white dark:bg-slate-700 flex items-center justify-center text-slate-600 dark:text-slate-300 shadow-sm hover:shadow-md";
---

<a
  href={href}
  target="_blank"
  rel="noopener noreferrer"
  class:list={[
    sizeClasses[size],
    baseClasses,
    platformStyles[platform],
    "transition-all duration-300 group",
  ]}
  aria-label={label}
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    width={iconSizes[size]}
    height={iconSizes[size]}
    viewBox="0 0 24 24"
    fill="none"
    stroke="currentColor"
    stroke-width="2"
    stroke-linecap="round"
    stroke-linejoin="round"
    class="transition-transform group-hover:scale-110"
    set:html={socialIcons[platform]}
  />
</a>
